<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>Alcohol Unit Calculator</title><meta name="author" content="ince.ince.vince"><meta name="description" content="description here"><meta name="keywords" content="keywords,here"><link rel="manifest" href="/drinkingCardsUnits/manifest.json"/><title>React App</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous"><script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script><script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script><script type="text/javascript">!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(d){function t(e){var t=e||window.event,i=v.call(arguments,1),n=0,o=0,l=0,s=0,a=0,h=0;if((e=d.event.fix(t)).type="mousewheel","detail"in t&&(l=-1*t.detail),"wheelDelta"in t&&(l=t.wheelDelta),"wheelDeltaY"in t&&(l=t.wheelDeltaY),"wheelDeltaX"in t&&(o=-1*t.wheelDeltaX),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(o=-1*l,l=0),n=0===l?o:l,"deltaY"in t&&(n=l=-1*t.deltaY),"deltaX"in t&&(o=t.deltaX,0===l&&(n=-1*o)),0!==l||0!==o){if(1===t.deltaMode){var r=d.data(this,"mousewheel-line-height");n*=r,l*=r,o*=r}else if(2===t.deltaMode){var u=d.data(this,"mousewheel-page-height");n*=u,l*=u,o*=u}if(s=Math.max(Math.abs(l),Math.abs(o)),(!w||s<w)&&(m(t,w=s)&&(w/=40)),m(t,s)&&(n/=40,o/=40,l/=40),n=Math[1<=n?"floor":"ceil"](n/w),o=Math[1<=o?"floor":"ceil"](o/w),l=Math[1<=l?"floor":"ceil"](l/w),p.settings.normalizeOffset&&this.getBoundingClientRect){var f=this.getBoundingClientRect();a=e.clientX-f.left,h=e.clientY-f.top}return e.deltaX=o,e.deltaY=l,e.deltaFactor=w,e.offsetX=a,e.offsetY=h,e.deltaMode=0,i.unshift(e,n,o,l),g&&clearTimeout(g),g=setTimeout(c,200),(d.event.dispatch||d.event.handle).apply(this,i)}}function c(){w=null}function m(e,t){return p.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var g,w,e=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],i="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],v=Array.prototype.slice;if(d.event.fixHooks)for(var n=e.length;n;)d.event.fixHooks[e[--n]]=d.event.mouseHooks;var p=d.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var e=i.length;e;)this.addEventListener(i[--e],t,!1);else this.onmousewheel=t;d.data(this,"mousewheel-line-height",p.getLineHeight(this)),d.data(this,"mousewheel-page-height",p.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=i.length;e;)this.removeEventListener(i[--e],t,!1);else this.onmousewheel=null;d.removeData(this,"mousewheel-line-height"),d.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var t=d(e),i=t["offsetParent"in d.fn?"offsetParent":"parent"]();return i.length||(i=d("body")),parseInt(i.css("fontSize"),10)||parseInt(t.css("fontSize"),10)||16},getPageHeight:function(e){return d(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};d.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})})</script><script type="text/javascript"></script><link href="/drinkingCardsUnits/static/css/main.209239d5.chunk.css" rel="stylesheet"></head><body data-spy="scroll" data-target="#navbar-categories" data-offset="0"><noscript>You need to enable JavaScript to run this app.</noscript><div id="react"></div><script type="text/javascript">function layoutCategoryNav(){
      //arrange navbar categories
      while ( $("#navbar-categories").height() < 70 && $("#navbar-categories ul .nav-item").is(":hidden")){
        element = $("#navbar-categories ul .nav-item.category:hidden:first")
        element.show()
        category = element.attr("data-category")
        if($("#navbar-categories .dropdown-menu").children("a[data-category='"+category+"']").length != 0 ){
          $("#navbar-categories .dropdown-menu a[data-category='"+category+"']").remove()
        }
        // console.log("1")
      }
      while ( $("#navbar-categories").height() >= 70 ){
        element = $("#navbar-categories ul .nav-item.category:visible:last")
        element.hide()
        category = element.attr("data-category")
        if($("#navbar-categories .dropdown-menu").children("a[data-category='"+category+"']").length == 0 ){
          $("#navbar-categories .dropdown-menu").prepend('<a class="dropdown-item" data-category="'+category+'" href="#table-'+category+'">'+category+'</a>')
        }
        // console.log("2")
      }
    }

    // function toggleResultCardSizes(){
    //   if( $(".result-container:first").hasClass("result-container-size-1") ){
    //     $(".result-container").removeClass("result-container-size-1")
    //     $(".result-container").addClass("result-container-size-2")
    //   }
    //   else{
    //     $(".result-container").removeClass("result-container-size-2")
    //     $(".result-container").addClass("result-container-size-1")
    //   }
    // }

    function makeSureResultCardScrollIsObvious(){
      function isWithinSafeBounds(){
        value = parseFloat("0." + String( $( window ).width() / $(".result-container:first").outerWidth(true) ).split(".")[1])
        if( (0.3 < value && value < 0.7) ) { return true; }
        else { return false; }
      }

      if (settings.results.areLoaded && $("#results").length > 0){//this condition is here to only do the work the first time the results are loaded, otherwise clicking on any table entry would recalculate all this, which isn't needed.
        console.log("firing")
        var firstResultWidth = $(".result-container:first").width()
        
        if ( firstResultWidth <= settings.results.minSize ){ settings.results.grow = true; console.log("grow") }
        if ( firstResultWidth >= settings.results.maxSize ){ settings.results.grow = false; console.log("shrink") }

        // settings.results.currentSize = firstResultWidth
        //other way, with growing and shrinking
        while (! isWithinSafeBounds() ) {
          var firstResultWidth = $(".result-container:first").width();
          var newSize
          if ( settings.results.grow ){ newSize = firstResultWidth + 1 }
          else { newSize = firstResultWidth - 1 }
          console.log("new" + newSize)
          $(".result-container").width( newSize );
          $(".result-container").height( newSize );
          // console.log("new" + newSize)
          // console.log("")
          settings.results.currentSize = newSize + 2 // this 2 is totally arbitrary. I have no idea why it sets the size of the divs to 2 px less than newSize value
          // console.log("res" + settings.results.currentSize)
        }

      }
    }

    // $('#results').on('mousewheel', function(event, delta) {
    //     // console.log(event.deltaX, event.deltaY, event.deltaFactor);
    //     // this.scrollLeft -= (-event.deltaX);
    //     this.scrollLeft -= (event.deltaY);
    //     // this.scrollLeft -= (delta);
    //     event.preventDefault()
    // });

    function setLayoutStuff(){
      $("body").css("padding-top", $("#top-stack").height() + 10)
      $("body").css("padding-bottom", $("#bottom-stack").height() + 10)

      $(".heading").css("padding-top", $("#top-stack").height() )
      $(".heading").css("margin-top", -$("#top-stack").height() )
      //if keeping them, set the input backgrounds to the width of hte inputs here
      $("#size-wrapper .input-background").width( $("#size-input").width() + 24)
      $("#strength-wrapper .input-background").width( $("#strength-input").width() + 24)

      // console.log("layountstuff hit")
      layoutCategoryNav()   
      // makeSureResultCardScrollIsObvious()   
    }

    function setMeasurementUnits(system="metric"){
      settings.systemOfMeasurement = system
      if(system == "metric"){
        $("#ml-button").addClass("active").siblings(this).removeClass("active")
        $("#size-wrapper .input-background .text-wrapper").html("ml")
        
        $(".row-size.imperial").hide()
        $(".row-size.metric").show()
        // if( settings.unitsHaveBeenSet ){
        //   $.each($(".row-size"), function(index, element){
        //     $(this).html( round($(this).html() / floztoml), 1 )
        //   })
        // }
      }

      if(system == "imperial"){
        $("#floz-button").addClass("active").siblings(this).removeClass("active")
        $("#size-wrapper .input-background .text-wrapper").html("fl oz")
        
        $(".row-size.metric").hide()
        $(".row-size.imperial").show()
        // $.each($(".row-size"), function(index, element){
        //   $(this).html( round($(this).html() * floztoml), 1 )
        // })
      }
      // alert(settings)
      // settings.unitsHaveBeenSet = true
      showAndHideDrinksBasedOnSystem()
    }

  $(window).resize(function(){
    setLayoutStuff()
  })

   function autorun()
   {
    console.log("autorun")
    setLayoutStuff()
    // showAndHideDrinksBasedOnSystem()
   }

   if (document.addEventListener) document.addEventListener("DOMContentLoaded", autorun, false); //<-- or "load"
   else if (document.attachEvent) document.attachEvent("onreadystatechange", autorun);
   else window.onload = autorun;</script><script>!function(l){function e(e){for(var r,n,t=e[0],o=e[1],u=e[2],i=0,f=[];i<t.length;i++)n=t[i],p[n]&&f.push(p[n][0]),p[n]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(l[r]=o[r]);for(s&&s(e);f.length;)f.shift()();return c.push.apply(c,u||[]),a()}function a(){for(var e,r=0;r<c.length;r++){for(var n=c[r],t=!0,o=1;o<n.length;o++){var u=n[o];0!==p[u]&&(t=!1)}t&&(c.splice(r--,1),e=i(i.s=n[0]))}return e}var n={},p={1:0},c=[];function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return l[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=l,i.c=n,i.d=function(e,r,n){i.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(r,e){if(1&e&&(r=i(r)),8&e)return r;if(4&e&&"object"==typeof r&&r&&r.__esModule)return r;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:r}),2&e&&"string"!=typeof r)for(var t in r)i.d(n,t,function(e){return r[e]}.bind(null,t));return n},i.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(r,"a",r),r},i.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},i.p="/drinkingCardsUnits/";var r=window.webpackJsonp=window.webpackJsonp||[],t=r.push.bind(r);r.push=e,r=r.slice();for(var o=0;o<r.length;o++)e(r[o]);var s=t;a()}([])</script><script src="/drinkingCardsUnits/static/js/2.61665a80.chunk.js"></script><script src="/drinkingCardsUnits/static/js/main.4b4648df.chunk.js"></script></body></html>